import{ag as y,r as l,w as b,j as e,D as o,B as n,T as t,h as C,I as P,H as T}from"./index-Cc_uhaw2.js";import{C as w}from"./config-global-DYC5wpSI.js";import{a as D}from"./axiosInstance-DxRYDP1x.js";import{C as I}from"./CircularProgress-eYthGOLM.js";import{G as a}from"./Grid-CLWcti-q.js";import{C as d}from"./Card-aOnlRS-j.js";function A(){var j,p,m,u;const{id:h}=y(),[s,g]=l.useState(null),[f,x]=l.useState(!0),v=b();return l.useEffect(()=>{(async()=>{const i=localStorage.getItem("accessToken");if(!i){console.error("No access token found");return}try{const c=await D.get(`https://api.localtour.space/api/Place/getPlaceById?languageCode=vi&placeid=${h}`,{headers:{Authorization:`Bearer ${i}`}});g(c.data),x(!1)}catch(c){console.error("Error fetching place details",c),x(!1)}})()},[h]),f?e.jsx(o,{children:e.jsx(n,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:e.jsx(I,{})})}):s?(s.status,s.status,s.status,e.jsxs(o,{children:[e.jsxs(n,{mb:4,display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(C,{variant:"outlined",color:"primary",startIcon:e.jsx(P,{icon:"eva:arrow-back-fill"}),onClick:()=>v("/owner/created"),children:"Back to List"}),e.jsx(t,{variant:"h4",sx:{flexGrow:1,textAlign:"center"},children:"Place Detail"})]}),e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,md:4,children:e.jsx(d,{sx:{p:2,boxShadow:3},children:e.jsx(n,{mb:2,display:"flex",justifyContent:"center",children:e.jsx("img",{src:s.photoDisplay,alt:(j=s.placeTranslations[0])==null?void 0:j.name,style:{width:"100%",height:"auto",maxHeight:"400px",objectFit:"cover"}})})})}),e.jsxs(a,{item:!0,xs:12,md:8,children:[e.jsxs(d,{sx:{p:3,boxShadow:3},children:[e.jsx(t,{variant:"h5",mb:2,children:(p=s.placeTranslations[0])==null?void 0:p.name}),e.jsxs(t,{variant:"body1",mb:2,children:["Address: ",(m=s.placeTranslations[0])==null?void 0:m.address]}),e.jsxs(t,{variant:"body1",mb:2,children:["Description: ",(u=s.placeTranslations[0])==null?void 0:u.description]}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:6,children:e.jsxs(t,{variant:"h6",children:["Opening Time: ",s.timeOpen]})}),e.jsx(a,{item:!0,xs:6,children:e.jsxs(t,{variant:"h6",children:["Closing Time: ",s.timeClose]})}),e.jsx(a,{item:!0,xs:6,children:e.jsxs(t,{variant:"h6",children:["Longitude: ",s.longitude]})}),e.jsx(a,{item:!0,xs:6,children:e.jsxs(t,{variant:"h6",children:["Latitude: ",s.latitude]})}),e.jsx(a,{item:!0,xs:6,children:e.jsxs(t,{variant:"h6",children:["Status: ",s.status==="Approved"?"Approved":s.status==="Rejected"?"Rejected":"Pending"]})})]})]}),s.placeTranslations.length>1&&e.jsxs(d,{sx:{mt:3,p:3,boxShadow:3},children:[e.jsx(t,{variant:"h6",mb:2,children:"Other Translations:"}),s.placeTranslations.map((r,i)=>e.jsxs(n,{mb:2,children:[e.jsxs(t,{variant:"body1",children:["Name: ",r.name]}),e.jsxs(t,{variant:"body1",children:["Description: ",r.description]}),e.jsxs(t,{variant:"body1",children:["Address: ",r.address]}),e.jsxs(t,{variant:"body1",children:["Contact: ",r.contact]})]},i))]})]})]})]})):e.jsx(o,{children:e.jsx(n,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:e.jsx(t,{variant:"h5",children:"Place not found"})})})}function L(){return e.jsxs(e.Fragment,{children:[e.jsx(T,{children:e.jsxs("title",{children:[" ",`Place Details - ${w.appName}`]})}),e.jsx(A,{})]})}export{L as default};
