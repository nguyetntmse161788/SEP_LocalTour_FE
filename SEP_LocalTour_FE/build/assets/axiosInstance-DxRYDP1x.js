import{l as r,al as o,K as n}from"./index-Cc_uhaw2.js";const t=r.create({});t.interceptors.request.use(async e=>{const s=localStorage.getItem("accessToken");return s&&(e.headers.Authorization=`Bearer ${s}`),e});t.interceptors.response.use(e=>e,async e=>{var s;if(((s=e.response)==null?void 0:s.status)===401)try{const a=await o();return e.config.headers.Authorization=`Bearer ${a}`,await t.request(e.config)}catch{localStorage.clear(),n.remove("refreshToken"),window.location.href="/sign-in"}return Promise.reject(e)});export{t as a};
