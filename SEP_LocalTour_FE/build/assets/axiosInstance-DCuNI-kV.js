import{a as r}from"./index-Br0q4W-C.js";import{aQ as o,X as n}from"./index-DUX23g0E.js";const t=r.create({});t.interceptors.request.use(async e=>{const s=localStorage.getItem("accessToken");return s&&(e.headers.Authorization=`Bearer ${s}`),e});t.interceptors.response.use(e=>e,async e=>{var s;if(((s=e.response)==null?void 0:s.status)===401)try{const a=await o();return e.config.headers.Authorization=`Bearer ${a}`,await t.request(e.config)}catch{localStorage.clear(),n.remove("refreshToken"),window.location.href="/sign-in"}return Promise.reject(e)});export{t as a};
