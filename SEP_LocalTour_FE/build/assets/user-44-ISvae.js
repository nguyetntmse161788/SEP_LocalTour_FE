import{j as e,B as j,f as p,r as c,A as F,I as x,K as U,l as P,P as L,M as E,m as w,n as C,N as H,J as W,O as v,Q as g,y as M,k as z,S as B,H as D}from"./index-B2v2_DKC.js";import{C as $}from"./config-global-BwHnWRtc.js";import{T as m,a as h,b as G,c as Q,d as V,e as J,f as K,g as _}from"./TableSortLabel-BwsI00UK.js";import{C as k}from"./Checkbox-uchoM3R5.js";import{O as q}from"./Select-TXDlS2nK.js";import{C as X}from"./Card-DGcZmdxA.js";import"./LastPage-CE1CEipW.js";function Y({searchQuery:s,...r}){return e.jsx(m,{...r,children:e.jsx(h,{align:"center",colSpan:7,children:e.jsxs(j,{sx:{py:15,textAlign:"center"},children:[e.jsx(p,{variant:"h6",sx:{mb:1},children:"Not found"}),e.jsxs(p,{variant:"body2",children:["No results found for Â ",e.jsxs("strong",{children:['"',s,'"']}),".",e.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}function Z({row:s,selected:r,onSelectRow:n}){const[t,i]=c.useState(null),a=c.useCallback(o=>{i(o.currentTarget)},[]),l=c.useCallback(()=>{i(null)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(m,{hover:!0,tabIndex:-1,role:"checkbox",selected:r,children:[e.jsx(h,{padding:"checkbox",children:e.jsx(k,{disableRipple:!0,checked:r,onChange:n})}),e.jsx(h,{component:"th",scope:"row",children:e.jsxs(j,{gap:2,display:"flex",alignItems:"center",children:[e.jsx(F,{alt:s.name,src:s.avatarUrl}),s.name]})}),e.jsx(h,{children:s.company}),e.jsx(h,{children:s.role}),e.jsx(h,{align:"center",children:s.isVerified?e.jsx(x,{width:22,icon:"solar:check-circle-bold",sx:{color:"success.main"}}):"-"}),e.jsx(h,{children:e.jsx(U,{color:s.status==="banned"&&"error"||"success",children:s.status})}),e.jsx(h,{align:"right",children:e.jsx(P,{onClick:a,children:e.jsx(x,{icon:"eva:more-vertical-fill"})})})]}),e.jsx(L,{open:!!t,anchorEl:t,onClose:l,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},children:e.jsxs(E,{disablePadding:!0,sx:{p:.5,gap:.5,width:140,display:"flex",flexDirection:"column",[`& .${C.root}`]:{px:1,gap:2,borderRadius:.75,[`&.${C.selected}`]:{bgcolor:"action.selected"}}},children:[e.jsxs(w,{onClick:l,children:[e.jsx(x,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(w,{onClick:l,sx:{color:"error.main"},children:[e.jsx(x,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})})]})}const ee={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function se(s,r,n){return s?Math.max(0,(1+s)*r-n):0}function S(s,r,n){return r[n]<s[n]?-1:r[n]>s[n]?1:0}function ne(s,r){return s==="desc"?(n,t)=>S(n,t,r):(n,t)=>-S(n,t,r)}function re({inputData:s,comparator:r,filterName:n}){const t=s.map((i,a)=>[i,a]);return t.sort((i,a)=>{const l=r(i[0],a[0]);return l!==0?l:i[1]-a[1]}),s=t.map(i=>i[0]),n&&(s=s.filter(i=>i.name.toLowerCase().indexOf(n.toLowerCase())!==-1)),s}function te({order:s,onSort:r,orderBy:n,rowCount:t,headLabel:i,numSelected:a,onSelectAllRows:l}){return e.jsx(G,{children:e.jsxs(m,{children:[e.jsx(h,{padding:"checkbox",children:e.jsx(k,{indeterminate:a>0&&a<t,checked:t>0&&a===t,onChange:o=>l(o.target.checked)})}),i.map(o=>e.jsx(h,{align:o.align||"left",sortDirection:n===o.id?s:!1,sx:{width:o.width,minWidth:o.minWidth},children:e.jsxs(Q,{hideSortIcon:!0,active:n===o.id,direction:n===o.id?s:"asc",onClick:()=>r(o.id),children:[o.label,n===o.id?e.jsx(j,{sx:{...ee},children:s==="desc"?"sorted descending":"sorted ascending"}):null]})},o.id))]})})}function ae({emptyRows:s,height:r,sx:n,...t}){return s?e.jsx(m,{sx:{...r&&{height:r*s},...n},...t,children:e.jsx(h,{colSpan:9})}):null}function oe({numSelected:s,filterName:r,onFilterName:n}){return e.jsxs(H,{sx:{height:96,display:"flex",justifyContent:"space-between",p:t=>t.spacing(0,1,0,3),...s>0&&{color:"primary.main",bgcolor:"primary.lighter"}},children:[s>0?e.jsxs(p,{component:"div",variant:"subtitle1",children:[s," selected"]}):e.jsx(q,{fullWidth:!0,value:r,onChange:n,placeholder:"Search user...",startAdornment:e.jsx(W,{position:"start",children:e.jsx(x,{width:20,icon:"eva:search-fill",sx:{color:"text.disabled"}})}),sx:{maxWidth:320}}),s>0?e.jsx(v,{title:"Delete",children:e.jsx(P,{children:e.jsx(x,{icon:"solar:trash-bin-trash-bold"})})}):e.jsx(v,{title:"Filter list",children:e.jsx(P,{children:e.jsx(x,{icon:"ic:round-filter-list"})})})]})}function ie(){const s=le(),[r,n]=c.useState(""),t=re({inputData:g,comparator:ne(s.order,s.orderBy),filterName:r}),i=!t.length&&!!r;return e.jsxs(M,{children:[e.jsxs(j,{display:"flex",alignItems:"center",mb:5,children:[e.jsx(p,{variant:"h4",flexGrow:1,children:"Users"}),e.jsx(z,{variant:"contained",color:"inherit",startIcon:e.jsx(x,{icon:"mingcute:add-line"}),children:"New user"})]}),e.jsxs(X,{children:[e.jsx(oe,{numSelected:s.selected.length,filterName:r,onFilterName:a=>{n(a.target.value),s.onResetPage()}}),e.jsx(B,{children:e.jsx(V,{sx:{overflow:"unset"},children:e.jsxs(J,{sx:{minWidth:800},children:[e.jsx(te,{order:s.order,orderBy:s.orderBy,rowCount:g.length,numSelected:s.selected.length,onSort:s.onSort,onSelectAllRows:a=>s.onSelectAllRows(a,g.map(l=>l.id)),headLabel:[{id:"name",label:"Name"},{id:"company",label:"Company"},{id:"role",label:"Role"},{id:"isVerified",label:"Verified",align:"center"},{id:"status",label:"Status"},{id:""}]}),e.jsxs(K,{children:[t.slice(s.page*s.rowsPerPage,s.page*s.rowsPerPage+s.rowsPerPage).map(a=>e.jsx(Z,{row:a,selected:s.selected.includes(a.id),onSelectRow:()=>s.onSelectRow(a.id)},a.id)),e.jsx(ae,{height:68,emptyRows:se(s.page,s.rowsPerPage,g.length)}),i&&e.jsx(Y,{searchQuery:r})]})]})})}),e.jsx(_,{component:"div",page:s.page,count:g.length,rowsPerPage:s.rowsPerPage,onPageChange:s.onChangePage,rowsPerPageOptions:[5,10,25],onRowsPerPageChange:s.onChangeRowsPerPage})]})]})}function le(){const[s,r]=c.useState(0),[n,t]=c.useState("name"),[i,a]=c.useState(5),[l,o]=c.useState([]),[b,y]=c.useState("asc"),T=c.useCallback(d=>{y(n===d&&b==="asc"?"desc":"asc"),t(d)},[b,n]),R=c.useCallback((d,u)=>{if(d){o(u);return}o([])},[]),I=c.useCallback(d=>{const u=l.includes(d)?l.filter(N=>N!==d):[...l,d];o(u)},[l]),f=c.useCallback(()=>{r(0)},[]),O=c.useCallback((d,u)=>{r(u)},[]),A=c.useCallback(d=>{a(parseInt(d.target.value,10)),f()},[f]);return{page:s,order:b,onSort:T,orderBy:n,selected:l,rowsPerPage:i,onSelectRow:I,onResetPage:f,onChangePage:O,onSelectAllRows:R,onChangeRowsPerPage:A}}function je(){return e.jsxs(e.Fragment,{children:[e.jsx(D,{children:e.jsxs("title",{children:[" ",`Users - ${$.appName}`]})}),e.jsx(ie,{})]})}export{je as default};
