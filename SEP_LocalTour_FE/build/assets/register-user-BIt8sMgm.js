import{O as b,r as l,j as e,B as j,C as P,T as m,h as v,t as N,H as R}from"./index-z39hXFLl.js";import{C as T}from"./config-global-BwHnWRtc.js";import{C as B}from"./CardContent-BI-lLdRp.js";import{T as s}from"./TextField-B2lMQ9Li.js";import"./InputLabel-D6bSjKO1.js";function S(){const c=b(),[r,w]=l.useState({email:"",password:"",confirmPassword:"",phoneNumber:""}),[d,n]=l.useState(""),[u,g]=l.useState(""),a=o=>{const{name:i,value:t}=o.target;w({...r,[i]:t})},y=async o=>{var p,x;o.preventDefault(),n(""),g("");const{email:i,password:t,confirmPassword:h,phoneNumber:C}=r;if(t!==h){n("Passwords do not match!");return}try{(await N.post("https://localhost:44388/api/User/CreateModerate",{email:i,password:t,confirmPassword:h,phoneNumber:C})).status===201&&(g("Registration successful! Redirecting to login..."),setTimeout(()=>c("/sign-in"),3e3))}catch(f){n(((x=(p=f.response)==null?void 0:p.data)==null?void 0:x.message)||"Registration failed. Please try again.")}};return e.jsx(j,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"70vh",bgcolor:"#f9f9f9",sx:{maxWidth:"90vw",padding:2},children:e.jsx(P,{sx:{width:400,padding:3},children:e.jsxs(B,{children:[e.jsx(m,{variant:"h5",align:"center",marginBottom:2,children:"Register"}),d&&e.jsx(m,{color:"error",variant:"body2",align:"center",marginBottom:2,children:d}),u&&e.jsx(m,{color:"success.main",variant:"body2",align:"center",marginBottom:2,children:u}),e.jsxs("form",{onSubmit:y,children:[e.jsx(s,{fullWidth:!0,label:"Email",name:"email",type:"email",value:r.email,onChange:a,margin:"normal",required:!0}),e.jsx(s,{fullWidth:!0,label:"Password",name:"password",type:"password",value:r.password,onChange:a,margin:"normal",required:!0}),e.jsx(s,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:a,margin:"normal",required:!0}),e.jsx(s,{fullWidth:!0,label:"Phone Number",name:"phoneNumber",type:"tel",value:r.phoneNumber,onChange:a,margin:"normal",required:!0}),e.jsx(v,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",sx:{marginTop:3},children:"Register"})]}),e.jsx(j,{textAlign:"center",marginTop:2,children:e.jsx(v,{variant:"text",onClick:()=>c("/sign-in"),children:"Already have an account? Log in"})})]})})})}function H(){return e.jsxs(e.Fragment,{children:[e.jsx(R,{children:e.jsxs("title",{children:[" ",`Report User - ${T.appName}`]})}),e.jsx(S,{})]})}export{H as default};
