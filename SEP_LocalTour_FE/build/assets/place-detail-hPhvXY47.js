import{av as C,r as l,R as P,j as e,y as o,B as n,f as t,k as f,I as g,H as T}from"./index-DX4RbbSE.js";import{C as I}from"./config-global-BwHnWRtc.js";import{a as w}from"./index-Br0q4W-C.js";import{C as D}from"./CircularProgress-BHXV3GkW.js";import{G as a}from"./Grid-CpEp-njR.js";import{C as d}from"./Card-DhZeIV4e.js";function k(){var j,m,p,u;const{id:h}=C(),[s,v]=l.useState(null),[y,x]=l.useState(!0),b=P();return l.useEffect(()=>{(async()=>{const r=localStorage.getItem("accessToken");if(!r){console.error("No access token found");return}try{const c=await w.get(`https://api.localtour.space/api/Place/getPlaceById?languageCode=vi&placeid=${h}`,{headers:{Authorization:`Bearer ${r}`}});v(c.data),x(!1)}catch(c){console.error("Error fetching place details",c),x(!1)}})()},[h]),y?e.jsx(o,{children:e.jsx(n,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:e.jsx(D,{})})}):s?(s.status,s.status,s.status,e.jsxs(o,{children:[e.jsxs(n,{mb:4,display:"flex",justifyContent:"space-between",alignItems:"center",children:[e.jsx(f,{variant:"outlined",color:"primary",startIcon:e.jsx(g,{icon:"eva:arrow-back-fill"}),onClick:()=>b("/owner/place"),children:"Back to List"}),e.jsx(t,{variant:"h4",children:"Place Detail"}),e.jsx(f,{variant:"contained",color:"secondary",startIcon:e.jsx(g,{icon:"mingcute:edit-line"}),children:"Edit"})]}),e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,md:4,children:e.jsx(d,{sx:{p:2,boxShadow:3},children:e.jsx(n,{mb:2,display:"flex",justifyContent:"center",children:e.jsx("img",{src:s.photoDisplay,alt:(j=s.placeTranslations[0])==null?void 0:j.name,style:{width:"100%",height:"auto",maxHeight:"400px",objectFit:"cover"}})})})}),e.jsxs(a,{item:!0,xs:12,md:8,children:[e.jsxs(d,{sx:{p:3,boxShadow:3},children:[e.jsx(t,{variant:"h5",mb:2,children:(m=s.placeTranslations[0])==null?void 0:m.name}),e.jsxs(t,{variant:"body1",mb:2,children:["Address: ",(p=s.placeTranslations[0])==null?void 0:p.address]}),e.jsxs(t,{variant:"body1",mb:2,children:["Description: ",(u=s.placeTranslations[0])==null?void 0:u.description]}),e.jsxs(a,{container:!0,spacing:2,children:[e.jsx(a,{item:!0,xs:6,children:e.jsxs(t,{variant:"h6",children:["Opening Time: ",s.timeOpen]})}),e.jsx(a,{item:!0,xs:6,children:e.jsxs(t,{variant:"h6",children:["Closing Time: ",s.timeClose]})}),e.jsx(a,{item:!0,xs:6,children:e.jsxs(t,{variant:"h6",children:["Longitude: ",s.longitude]})}),e.jsx(a,{item:!0,xs:6,children:e.jsxs(t,{variant:"h6",children:["Latitude: ",s.latitude]})}),e.jsx(a,{item:!0,xs:6,children:e.jsxs(t,{variant:"h6",children:["Status: ",s.status==="1"?"Approved":s.status==="2"?"Rejected":"Pending"]})})]})]}),s.placeTranslations.length>1&&e.jsxs(d,{sx:{mt:3,p:3,boxShadow:3},children:[e.jsx(t,{variant:"h6",mb:2,children:"Other Translations:"}),s.placeTranslations.map((i,r)=>e.jsxs(n,{mb:2,children:[e.jsxs(t,{variant:"body1",children:["Name: ",i.name]}),e.jsxs(t,{variant:"body1",children:["Description: ",i.description]}),e.jsxs(t,{variant:"body1",children:["Address: ",i.address]}),e.jsxs(t,{variant:"body1",children:["Contact: ",i.contact]})]},r))]})]})]})]})):e.jsx(o,{children:e.jsx(n,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:e.jsx(t,{variant:"h5",children:"Place not found"})})})}function O(){return e.jsxs(e.Fragment,{children:[e.jsx(T,{children:e.jsxs("title",{children:[" ",`Place Details - ${I.appName}`]})}),e.jsx(k,{})]})}export{O as default};
