import{w as b,r as l,j as e,B as j,T as m,h as w,l as P,H as N}from"./index-D4PwaD5N.js";import{C as R}from"./config-global-DYC5wpSI.js";import{C as T}from"./Card-CkOvGVvy.js";import{C as B}from"./CardContent-Dy63AwA9.js";import{T as s}from"./TextField-C0PbMPGO.js";import"./useFormControl-BxpVqGaN.js";import"./Select-545m9gIo.js";import"./InputLabel-C9R4CQou.js";function S(){const c=b(),[r,v]=l.useState({email:"",password:"",confirmPassword:"",phoneNumber:""}),[d,n]=l.useState(""),[u,p]=l.useState(""),a=o=>{const{name:i,value:t}=o.target;v({...r,[i]:t})},y=async o=>{var h,x;o.preventDefault(),n(""),p("");const{email:i,password:t,confirmPassword:g,phoneNumber:C}=r;if(t!==g){n("Passwords do not match!");return}try{(await P.post("https://localhost:44388/api/User/CreateModerate",{email:i,password:t,confirmPassword:g,phoneNumber:C})).status===201&&(p("Registration successful! Redirecting to login..."),setTimeout(()=>c("/sign-in"),3e3))}catch(f){n(((x=(h=f.response)==null?void 0:h.data)==null?void 0:x.message)||"Registration failed. Please try again.")}};return e.jsx(j,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"70vh",bgcolor:"#f9f9f9",sx:{maxWidth:"90vw",padding:2},children:e.jsx(T,{sx:{width:400,padding:3},children:e.jsxs(B,{children:[e.jsx(m,{variant:"h5",align:"center",marginBottom:2,children:"Register"}),d&&e.jsx(m,{color:"error",variant:"body2",align:"center",marginBottom:2,children:d}),u&&e.jsx(m,{color:"success.main",variant:"body2",align:"center",marginBottom:2,children:u}),e.jsxs("form",{onSubmit:y,children:[e.jsx(s,{fullWidth:!0,label:"Email",name:"email",type:"email",value:r.email,onChange:a,margin:"normal",required:!0}),e.jsx(s,{fullWidth:!0,label:"Password",name:"password",type:"password",value:r.password,onChange:a,margin:"normal",required:!0}),e.jsx(s,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:a,margin:"normal",required:!0}),e.jsx(s,{fullWidth:!0,label:"Phone Number",name:"phoneNumber",type:"tel",value:r.phoneNumber,onChange:a,margin:"normal",required:!0}),e.jsx(w,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",sx:{marginTop:3},children:"Register"})]}),e.jsx(j,{textAlign:"center",marginTop:2,children:e.jsx(w,{variant:"text",onClick:()=>c("/sign-in"),children:"Already have an account? Log in"})})]})})})}function U(){return e.jsxs(e.Fragment,{children:[e.jsx(N,{children:e.jsxs("title",{children:[" ",`Report User - ${R.appName}`]})}),e.jsx(S,{})]})}export{U as default};
