import{K as b,r as l,j as e,B as j,f as m,k as v,H as P}from"./index-DUX23g0E.js";import{C as N}from"./config-global-BwHnWRtc.js";import{a as R}from"./index-Br0q4W-C.js";import{C as B}from"./Card-CfNpMCOC.js";import{C as S}from"./CardContent-DqDfuNTI.js";import{T as s}from"./TextField-DgaCIWDs.js";import"./Select-CoLeV2jR.js";import"./InputLabel-6HE52FsW.js";function T(){const c=b(),[r,w]=l.useState({email:"",password:"",confirmPassword:"",phoneNumber:""}),[d,n]=l.useState(""),[u,p]=l.useState(""),a=o=>{const{name:i,value:t}=o.target;w({...r,[i]:t})},y=async o=>{var h,f;o.preventDefault(),n(""),p("");const{email:i,password:t,confirmPassword:g,phoneNumber:C}=r;if(t!==g){n("Passwords do not match!");return}try{(await R.post("https://localhost:44388/api/User/CreateModerate",{email:i,password:t,confirmPassword:g,phoneNumber:C})).status===201&&(p("Registration successful! Redirecting to login..."),setTimeout(()=>c("/sign-in"),3e3))}catch(x){n(((f=(h=x.response)==null?void 0:h.data)==null?void 0:f.message)||"Registration failed. Please try again.")}};return e.jsx(j,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"70vh",bgcolor:"#f9f9f9",sx:{maxWidth:"90vw",padding:2},children:e.jsx(B,{sx:{width:400,padding:3},children:e.jsxs(S,{children:[e.jsx(m,{variant:"h5",align:"center",marginBottom:2,children:"Register"}),d&&e.jsx(m,{color:"error",variant:"body2",align:"center",marginBottom:2,children:d}),u&&e.jsx(m,{color:"success.main",variant:"body2",align:"center",marginBottom:2,children:u}),e.jsxs("form",{onSubmit:y,children:[e.jsx(s,{fullWidth:!0,label:"Email",name:"email",type:"email",value:r.email,onChange:a,margin:"normal",required:!0}),e.jsx(s,{fullWidth:!0,label:"Password",name:"password",type:"password",value:r.password,onChange:a,margin:"normal",required:!0}),e.jsx(s,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:"password",value:r.confirmPassword,onChange:a,margin:"normal",required:!0}),e.jsx(s,{fullWidth:!0,label:"Phone Number",name:"phoneNumber",type:"tel",value:r.phoneNumber,onChange:a,margin:"normal",required:!0}),e.jsx(v,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",sx:{marginTop:3},children:"Register"})]}),e.jsx(j,{textAlign:"center",marginTop:2,children:e.jsx(v,{variant:"text",onClick:()=>c("/sign-in"),children:"Already have an account? Log in"})})]})})})}function I(){return e.jsxs(e.Fragment,{children:[e.jsx(P,{children:e.jsxs("title",{children:[" ",`Report User - ${N.appName}`]})}),e.jsx(T,{})]})}export{I as default};
